{"version":3,"sources":["components/Button/index.module.css","components/TextInput/index.module.css","components/Title/index.module.css","components/Player/index.module.css","components/Track/index.module.css","components/PlayButton/index.module.css","components/ErrorMessage/index.module.css","pages/search/partials/results.module.css","pages/search/index.module.css","components/Button/index.tsx","components/TextInput/index.tsx","components/Title/index.tsx","config/axios.ts","providers/shared-audiocontext.tsx","components/Player/index.tsx","hooks/shared-audiocontext.ts","components/Skeleton/index.tsx","components/Track/index.tsx","components/LottieAnimation/index.tsx","components/PlayButton/index.tsx","components/ErrorMessage/index.tsx","pages/search/partials/results.tsx","pages/search/index.tsx"],"names":["module","exports","Button","children","onClick","isDisabled","className","styles","button","join","disabled","text","TextInput","value","placeholder","onChange","onKeyUp","textinput","type","event","target","key","Title","title","client","axios","create","baseURL","timeout","params","client_id","SharedAudioContext","createContext","setAudioContext","audioContext","console","warn","SharedAudioContextProvider","audioContextRef","useRef","AudioContext","useEffect","current","close","Provider","Player","url","wavePicture","useContext","source","React","useState","isTrackLoaded","setIsTrackLoaded","isTrackLoading","setIsTrackLoading","isError","setIsError","loadTrack","useCallback","a","request","responseType","response","Promise","resolve","reject","decodeAudioData","data","buffer","createBufferSource","loop","connect","destination","start","log","stop","player","data-test-id","stopPlayback","isPlaying","isLoading","src","player__error","isVisible","SkeletonRectangle","color","viewBox","version","id","stroke","strokeWidth","fill","fillRule","transform","x","y","width","height","SkeletonLine","TrackDetailsSkeleton","Track","seconds","artist","duration","artistPicture","isSkeleton","trackDetails","waveform","waveform__skeleton","details","details__picture","style","backgroundImage","Date","toISOString","substr","LottieAnimation","autoplay","animationData","playSpeed","container","animationItem","lottie","loadAnimation","renderer","setSpeed","isLoaded","isPaused","play","ref","PlayButton","xmlns","d","StopButton","PlayStopButton","wrapper","loader","progressLoadingAnimation","ErrorMessage","error","SearchResults","trackSearchTerm","setLoading","nextHref","setNextHref","tracks","setTracks","loadTracks","clearTracks","get","collection","next_href","trackList","useMemo","map","track","index","user","username","downloadable","download_url","stream_url","avatar_url","waveform_url","Array","from","length","loadmore","loadmore__button","history","useHistory","useParams","searchTerm","setSearchTerm","submitSearch","push","generatePath","search","toLowerCase","searchButton"],"mappings":"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","file":"static/js/4.f2d6c6dd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1yaWD\",\"text\":\"Button_text__1iGIO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textinput\":\"TextInput_textinput__1A0py\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Title_title__2ntrx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Player_player__3CgGn\",\"player__waveform\":\"Player_player__waveform__V0vv2\",\"player__controls\":\"Player_player__controls__1sIhS\",\"player__error\":\"Player_player__error__33m9X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trackDetails\":\"Track_trackDetails__3baWB\",\"details\":\"Track_details__MaO6l\",\"details__title\":\"Track_details__title__vk_Ln\",\"details__duration\":\"Track_details__duration__2X-ew\",\"details__picture\":\"Track_details__picture__1DfZn\",\"waveform\":\"Track_waveform__2l0kK\",\"waveform__skeleton\":\"Track_waveform__skeleton__29URF\",\"details__artist--skeleton\":\"Track_details__artist--skeleton__1mh6O\",\"details__duration--skeleton\":\"Track_details__duration--skeleton__3l8ZO\",\"details__title--skeleton\":\"Track_details__title--skeleton__bnfUR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"PlayButton_loader__1dzum\",\"loaderInvisible\":\"PlayButton_loaderInvisible__2IuiT\",\"wrapper\":\"PlayButton_wrapper__2m6XP\",\"button\":\"PlayButton_button__4PH5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorMessage_error__1CyWg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"results_wrapper__3u0N1\",\"loadmore\":\"results_loadmore__3gTFZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"search_search__2kjb_\",\"wrapper\":\"search_wrapper__2Boek\",\"searchButton\":\"search_searchButton__29wYG\"};","import React from \"react\";\nimport styles from \"./index.module.css\";\n\ntype PropTypes = {\n  onClick: () => void;\n  isDisabled?: boolean;\n  className?: string;\n};\n\nconst Button: React.FC<PropTypes> = ({\n  children,\n  onClick,\n  isDisabled,\n  className = \"\",\n}) => (\n  <button\n    className={[styles.button, className].join(\" \")}\n    disabled={isDisabled}\n    onClick={onClick}\n  >\n    <p className={styles.text}>{children}</p>\n  </button>\n);\n\nexport default Button;\n","import React from \"react\";\nimport styles from \"./index.module.css\";\n\ntype TextInputPropsType = {\n  value?: string;\n  placeholder?: string;\n  onChange?: (value: string) => void;\n  onKeyUp?: (key: string) => void;\n};\n\n/**\n *\n * @description Provides a text input with onKeyUp and onChange events.\n */\nconst TextInput: React.FC<TextInputPropsType> = ({\n  value,\n  placeholder,\n  onChange,\n  onKeyUp,\n}) => (\n  <input\n    className={styles.textinput}\n    type='text'\n    value={value}\n    placeholder={placeholder}\n    onChange={(event) => onChange?.(event.target?.value)}\n    onKeyUp={(event) => onKeyUp?.(event.key)}\n  />\n);\n\nexport default TextInput;\n","import React from \"react\";\nimport styles from \"./index.module.css\";\n\n/**\n *\n * @description Provides a title, h1 element\n */\nconst Title: React.FC = ({ children }) => (\n  <h1 className={styles.title}>{children}</h1>\n);\n\nexport default Title;\n","import axios from \"axios\";\n\nexport const client = () => {\n  return axios.create({\n    baseURL: \"https://api.soundcloud.com\",\n    timeout: 5000,\n    params: {\n      client_id: \"3a792e628dbaf8054e55f6e134ebe5fa\",\n    },\n  });\n};\n\nexport const buildQs = (values: Record<string, string>) =>\n  values &&\n  Object.keys(values)\n    .map((key) => `${key}=${values[key]}`)\n    .join(\"&\");\n","import React, { createContext, useRef, useEffect } from \"react\";\nimport { AudioContext } from \"standardized-audio-context\";\n\ntype AudioContextType = {\n  setAudioContext: (audioContext?: AudioContext) => void;\n  audioContext?: AudioContext;\n};\n\nexport const SharedAudioContext = createContext<AudioContextType>({\n  setAudioContext: (audioContext) => {\n    console.warn(\"Warning no provider is setup\");\n  },\n});\n\n/**\n *\n * @description Provides a (shared) AudioContext to consumers.\n */\nconst SharedAudioContextProvider: React.FC = ({ children }) => {\n  const audioContextRef = useRef<AudioContext | undefined>(new AudioContext());\n  useEffect(() => {\n    // closes the audio context, releasing any system audio resources that it uses.\n    return () => {\n      audioContextRef.current?.close();\n    };\n  }, []);\n  return (\n    <SharedAudioContext.Provider\n      value={{\n        setAudioContext: (audioContext) => {\n          audioContextRef.current = audioContext;\n        },\n        audioContext: audioContextRef.current,\n      }}\n    >\n      {children}\n    </SharedAudioContext.Provider>\n  );\n};\n\nexport default SharedAudioContextProvider;\n","import React, { useCallback, useEffect } from \"react\";\nimport {\n  IAudioBufferSourceNode,\n  IAudioContext,\n  IAudioBuffer,\n} from \"standardized-audio-context\";\nimport { client } from \"../../config/axios\";\nimport { useSharedAudioContext } from \"../../hooks/shared-audiocontext\";\nimport { PlayButton, ErrorMessage } from \"../../components\";\nimport styles from \"./index.module.css\";\n\ntype PlayerPropsType = {\n  url: string;\n  wavePicture?: string;\n};\n\n/**\n *\n * @param url The url to the track\n * @param wavePicture The url to the (audio) waveform picture\n * @description Provides a player for loading and playback of tracks through WebAudio.\n */\nconst Player: React.FC<PlayerPropsType> = ({ url, wavePicture }) => {\n  const { audioContext } = useSharedAudioContext();\n  const source = React.useRef<IAudioBufferSourceNode<IAudioContext>>();\n  const [isTrackLoaded, setIsTrackLoaded] = React.useState(false);\n  const [isTrackLoading, setIsTrackLoading] = React.useState(false);\n  const [isError, setIsError] = React.useState(false);\n  /**\n   * @description Load a track using WebAudio, start playing upon loaded.\n   */\n  const loadTrack = useCallback(async () => {\n    if (!audioContext) {\n      console.warn(\"No shared audio context was found.\");\n    }\n    if (isTrackLoaded || !audioContext) {\n      return;\n    }\n    setIsError(false);\n    setIsTrackLoading(true);\n    try {\n      const response = await client().request({\n        url,\n        responseType: \"arraybuffer\",\n      });\n\n      const buffer: IAudioBuffer = await new Promise((resolve, reject) => {\n        audioContext.decodeAudioData(response.data, resolve, reject);\n      });\n      source.current = audioContext.createBufferSource();\n      source.current.buffer = buffer;\n      source.current.loop = true;\n      source.current.connect(audioContext.destination);\n      source.current.start(0);\n      setIsTrackLoaded(true);\n    } catch (error) {\n      console.log(\"error loading track\", error);\n      setIsError(true);\n    }\n    setIsTrackLoading(false);\n  }, [url, audioContext]);\n\n  /**\n   * @description Ensure any WebAudio still playing is stopped when this element is unmounted.\n   */\n  useEffect(() => {\n    return () => {\n      source.current?.stop(0);\n    };\n  }, []);\n\n  /**\n   * @description Stops playback of audio\n   */\n  const stopPlayback = () => {\n    source.current?.stop(0);\n    setIsTrackLoaded(false);\n  };\n\n  return (\n    <div className={styles.player}>\n      <div className={styles[\"player__controls\"]}>\n        <PlayButton\n          data-test-id='play-button'\n          onClick={() => (isTrackLoaded ? stopPlayback() : loadTrack())}\n          isPlaying={isTrackLoaded}\n          isLoading={isTrackLoading}\n        />\n      </div>\n      <img className={styles[\"player__waveform\"]} src={wavePicture} />\n      <ErrorMessage\n        className={styles.player__error}\n        data-test-id='error-message'\n        isVisible={isError}\n      >\n        An error occured while trying to load the track.\n      </ErrorMessage>\n    </div>\n  );\n};\n\nexport default Player;\n","import { useContext } from \"react\";\nimport { SharedAudioContext } from \"../providers/shared-audiocontext\";\n\n/**\n * @description Provides a hook to get/set (shared) AudioContext\n */\nexport const useSharedAudioContext = () => useContext(SharedAudioContext);\n","import React from \"react\";\n\ntype SkeletonPropsType = {\n  color?: string;\n  className?: string;\n};\n\n/**\n *\n * @description Provides a rectangle skeleton svg\n */\nconst SkeletonRectangle: React.FC<SkeletonPropsType> = ({\n  color = \"#ffffff\",\n  className,\n}) => (\n  <svg viewBox='0 0 200 200' version='1.1' className={className}>\n    <g id='Page-1' stroke='none' strokeWidth='1' fill='none' fillRule='evenodd'>\n      <g id='v' transform='translate(-213.000000, -149.000000)' fill={color}>\n        <rect id='Rectangle' x='213' y='149' width='200' height='200'></rect>\n      </g>\n    </g>\n  </svg>\n);\n\n/**\n *\n * @description Provides a line skeleton svg\n */\nconst SkeletonLine: React.FC<SkeletonPropsType> = ({\n  color = \"#ffffff\",\n  className,\n}) => (\n  <svg viewBox='0 0 300 15' className={className}>\n    <g id='Page-1' stroke='none' strokeWidth='1' fill='none' fillRule='evenodd'>\n      <g id='v' transform='translate(-213.000000, -149.000000)' fill={color}>\n        <rect id='Rectangle' x='213' y='149' width='300' height='15'></rect>\n      </g>\n    </g>\n  </svg>\n);\n\nexport { SkeletonLine, SkeletonRectangle };\n","import React from \"react\";\nimport Player from \"../Player\";\nimport styles from \"./index.module.css\";\nimport { SkeletonLine, SkeletonRectangle } from \"../Skeleton\";\n\ntype TrackType = {\n  artist: string;\n  title: string;\n  duration: number;\n  url: string;\n  artistPicture?: string;\n  wavePicture?: string;\n  isSkeleton?: boolean;\n};\n\nconst formatToHHMMSS = (seconds: number) =>\n  new Date(seconds).toISOString().substr(11, 8);\n\nconst TrackDetailsSkeleton = () => (\n  <>\n    <SkeletonLine className={styles[\"details__artist--skeleton\"]} />\n    <SkeletonLine className={styles[\"details__title--skeleton\"]} />\n    <SkeletonLine className={styles[\"details__duration--skeleton\"]} />\n  </>\n);\n\n/**\n * @param artistPicture A picture of the artist.\n * @param wavePicture A picture of the waveform.\n * @param isSkeleton Switch to a skeleton view layout for loading purposes.\n * @description Provides a UI to display track information.\n */\nconst Track: React.FC<TrackType> = ({\n  artist,\n  title,\n  duration,\n  url,\n  artistPicture = \"\",\n  wavePicture = \"\",\n  isSkeleton = false,\n}) => (\n  <div>\n    <div className={styles.trackDetails}>\n      <div className={styles.waveform}>\n        {isSkeleton ? (\n          <SkeletonRectangle className={styles.waveform__skeleton} />\n        ) : (\n          <Player url={url} wavePicture={wavePicture} />\n        )}\n      </div>\n      <div className={styles.details}>\n        {isSkeleton ? (\n          <SkeletonRectangle className={styles.details__picture} />\n        ) : (\n          <figure\n            className={styles[\"details__picture\"]}\n            style={{ backgroundImage: `url(${artistPicture})` }}\n          />\n        )}\n        <div className={styles[\"details__track\"]}>\n          {isSkeleton ? (\n            <TrackDetailsSkeleton />\n          ) : (\n            <>\n              <p className={styles[\"details__artist\"]}>{artist}</p>\n              <p className={styles[\"details__title\"]}>{title}</p>\n              <p className={styles[\"details__duration\"]}>\n                {formatToHHMMSS(duration)}\n              </p>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Track;\n","import React, { useRef, useEffect } from \"react\";\nimport lottie, { AnimationConfigWithData, AnimationItem } from \"lottie-web\";\n\ntype LottieAnimationPropsType = {\n  loop?: boolean;\n  autoplay?: boolean;\n  isPlaying?: boolean;\n  className?: string;\n  playSpeed?: number;\n} & Pick<AnimationConfigWithData, \"animationData\">;\n\nconst LottieAnimation: React.FC<LottieAnimationPropsType> = ({\n  loop = false,\n  autoplay = false,\n  isPlaying = false,\n  className = \"\",\n  animationData,\n  playSpeed = 1,\n}) => {\n  const container = useRef<HTMLElement>(null);\n  const animationItem = useRef<AnimationItem | null>(null);\n\n  useEffect(() => {\n    if (container.current) {\n      animationItem.current = lottie.loadAnimation({\n        renderer: \"svg\",\n        container: container.current,\n        loop,\n        autoplay,\n        animationData,\n      });\n      animationItem.current.setSpeed(playSpeed);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (animationItem.current && animationItem.current?.isLoaded) {\n      !animationItem.current?.isPaused\n        ? animationItem.current?.stop()\n        : animationItem.current?.play();\n    }\n  }, [isPlaying, animationItem.current?.isLoaded]);\n\n  return <figure className={className} ref={container} />;\n};\n\nexport default LottieAnimation;\n","import React from \"react\";\nimport LottieAnimation from \"../LottieAnimation\";\nimport progressLoadingAnimation from \"../../assets/lottie/search-location.json\";\nimport styles from \"./index.module.css\";\n\nconst PlayButton = () => (\n  <svg id='Capa_1' viewBox='0 0 320 320' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      fill='rgb(25,25,25)'\n      d='m295.84 146.049-256-144c-4.96-2.784-11.008-2.72-15.904.128-4.928 2.88-7.936 8.128-7.936 13.824v288c0 5.696 3.008 10.944 7.936 13.824 2.496 1.44 5.28 2.176 8.064 2.176 2.688 0 5.408-.672 7.84-2.048l256-144c5.024-2.848 8.16-8.16 8.16-13.952s-3.136-11.104-8.16-13.952z'\n    />\n  </svg>\n);\n\nconst StopButton = () => (\n  <svg fill='none' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      d='m6 3.25c-1.51878 0-2.75 1.23122-2.75 2.75v12c0 1.5188 1.23122 2.75 2.75 2.75h12c1.5188 0 2.75-1.2312 2.75-2.75v-12c0-1.51878-1.2312-2.75-2.75-2.75z'\n      fill='rgb(25,25,25)'\n    />\n  </svg>\n);\n\ntype PlayStopPropsType = {\n  isLoading?: boolean;\n  isPlaying?: boolean;\n  onClick: () => void;\n};\n\n/**\n *\n * @description Shows a button for either loading, playing or stopped audio.\n */\nconst PlayStopButton: React.FC<PlayStopPropsType> = ({\n  isLoading,\n  isPlaying,\n  onClick,\n}) => {\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.button} onClick={onClick}>\n        {/* There is a weird bug within Lottie that prevents animation played from conditional renders. */}\n        {isLoading && (\n          <LottieAnimation\n            className={styles.loader}\n            animationData={progressLoadingAnimation}\n            playSpeed={3}\n            isPlaying={isLoading}\n            loop\n          />\n        )}\n        {isLoading ? null : isPlaying ? <StopButton /> : <PlayButton />}\n      </div>\n    </div>\n  );\n};\n\nexport default PlayStopButton;\n","import React from \"react\";\nimport styles from \"./index.module.css\";\nimport Title from \"../Title\";\n\ntype ErrorMessagePropsType = {\n  isVisible?: boolean;\n  title?: string;\n  className?: string;\n};\n/**\n *\n * @description Provides a generic error message\n */\nconst ErrorMessage: React.FC<ErrorMessagePropsType> = ({\n  title,\n  children,\n  isVisible,\n  className,\n}) =>\n  isVisible ? (\n    <div className={[styles.error, className].join(\" \")}>\n      {title && <Title>{title}</Title>}\n      {children && <p>{children}</p>}\n    </div>\n  ) : null;\nexport default ErrorMessage;\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport { client } from \"../../../config/axios\";\nimport { Button, Track, ErrorMessage } from \"../../../components\";\n\nimport SharedAudioContextProvider from \"../../../providers/shared-audiocontext\";\nimport styles from \"./results.module.css\";\n\ntype SoundCloudItemType = {\n  title: string;\n  duration: number;\n  stream_url: string;\n  download_url: string;\n  downloadable: boolean;\n  waveform_url: string;\n  user: {\n    avatar_url: string;\n    username: string;\n  };\n};\n\ntype SoundCloudCollectionType<T> = {\n  collection: T;\n  next_href: string;\n};\n\ntype SearchResultsPropsType = {\n  trackSearchTerm?: string;\n};\n\nexport const NUM_RESULTS = 10;\n\nconst SearchResults: React.FC<SearchResultsPropsType> = ({\n  children,\n  trackSearchTerm,\n}) => {\n  const [isLoading, setLoading] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [nextHref, setNextHref] = useState(\"\");\n  const [tracks, setTracks] = useState<SoundCloudItemType[]>([]);\n\n  /**\n   * @param url The SoundCloud API url to retrieve the tracks from.\n   * @param clearTracks Clears the track list before searching.\n   * @description Retrieve tracks and append to the tracks list\n   */\n  const loadTracks = useCallback(\n    async (url: string, clearTracks: boolean = false) => {\n      setLoading(true);\n      setIsError(false);\n      if (clearTracks) {\n        setTracks([]);\n        setNextHref(\"\");\n      }\n      try {\n        const response = await client().get<\n          SoundCloudCollectionType<SoundCloudItemType[]>\n        >(url);\n        if (response?.data?.collection) {\n          setTracks(\n            !clearTracks\n              ? [...tracks, ...response?.data?.collection]\n              : [...response?.data?.collection]\n          );\n          setNextHref(response?.data?.next_href);\n        }\n      } catch (error) {\n        console.log(error);\n        setIsError(true);\n      }\n      setLoading(false);\n    },\n    [tracks]\n  );\n  /**\n   * @description Upon changing the trackSearchTerm, initiate a search for tracks on SoundCloud.\n   */\n  useEffect(() => {\n    // Search for tracks, clear the current list.\n    loadTracks(\n      `/tracks?q=${trackSearchTerm}&linked_partitioning=true&limit=${NUM_RESULTS}`,\n      true\n    );\n  }, [trackSearchTerm]);\n\n  /**\n   * @description Provide a memoized list of tracks\n   */\n  const trackList = useMemo(\n    () =>\n      tracks.map((track, index) => (\n        <Track\n          data-test-id={`track-${index}`}\n          key={`track-${index}`}\n          artist={track?.user?.username}\n          title={track?.title}\n          duration={track?.duration || 0}\n          url={track?.downloadable ? track?.download_url : track?.stream_url}\n          artistPicture={track?.user?.avatar_url}\n          wavePicture={track?.waveform_url}\n        />\n      )),\n    [tracks]\n  );\n\n  return (\n    <SharedAudioContextProvider>\n      <section className={styles.wrapper}>\n        <ErrorMessage data-test-id='result-error' isVisible={isError}>\n          Something went wrong while retrieving tracks\n        </ErrorMessage>\n        {isLoading\n          ? // Displays a skeletal ui while retrieving results.\n            Array.from({ length: 10 }).map((data, index) => (\n              <Track\n                title=''\n                duration={0}\n                artist=''\n                url=''\n                data-test-id={`track-${index}`}\n                key={`track-${index}`}\n                isSkeleton\n              />\n            ))\n          : trackList}\n        {!!nextHref && (\n          // Display a load more button, appending more search results to the list.\n          <div className={styles.loadmore}>\n            <Button\n              data-test-id='load-more'\n              isDisabled={isLoading}\n              className={styles.loadmore__button}\n              onClick={() => loadTracks(nextHref)}\n            >\n              Load more\n            </Button>\n          </div>\n        )}\n      </section>\n    </SharedAudioContextProvider>\n  );\n};\n\nexport default SearchResults;\n","import React, { useState, useCallback } from \"react\";\nimport { useHistory, useParams, generatePath } from \"react-router-dom\";\nimport { Title, TextInput, Button } from \"../../components\";\nimport { RouteParamTypes } from \"../../types/route-types\";\nimport SearchResults from \"./partials/results\";\nimport styles from \"./index.module.css\";\n\nexport default () => {\n  const history = useHistory();\n  const { track: trackSearchTerm } = useParams<RouteParamTypes>();\n  const [searchTerm, setSearchTerm] = useState(trackSearchTerm || \"\");\n\n  /**\n   * @description Use history for search term changes, provides convenience for the user.\n   */\n  const submitSearch = useCallback(() => {\n    history.push(generatePath(\"/search/track/:track\", { track: searchTerm }));\n  }, [searchTerm]);\n\n  return (\n    <>\n      <header className={styles.search}>\n        <div className={styles.wrapper}>\n          <Title>Find your tracks on Soundcloud</Title>\n          <TextInput\n            data-test-id='search-input'\n            placeholder='An amazing track'\n            value={searchTerm}\n            onChange={(value) => setSearchTerm(value)}\n            onKeyUp={(key) =>\n              searchTerm && key?.toLowerCase() === \"enter\" && submitSearch()\n            }\n          />\n          <Button\n            className={styles.searchButton}\n            data-test-id='search-button'\n            isDisabled={!searchTerm}\n            onClick={submitSearch}\n          >\n            Search\n          </Button>\n        </div>\n      </header>\n      {trackSearchTerm && (\n        <SearchResults\n          data-test-id='results'\n          trackSearchTerm={trackSearchTerm}\n        />\n      )}\n    </>\n  );\n};\n"],"sourceRoot":""}